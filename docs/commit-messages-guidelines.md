# Правила написания комментариев к коммитам.

> Этот проект использует Conventional Commits — соглашение о том, как нужно писать комментарии к коммитам. Оно описывает
> набор правил для создания понятной истории коммитов, а также позволяет использовать инструменты автоматизации,
> основанные на истории коммитов. Данное соглашение совместимо с SemVer, описывая новые функции (features),
> исправления (fixes) и изменения, нарушающие обратную совместимость (breaking changes) в комментариях к коммитам.

## Формат коммит комментария

Комментарий к коммиту состоит из трёх частей:

- **заголовок** (обязательно)
- **тело** (опционально)
- **сноска** (опционально)

Разделение между этими частями выполняется с помощью пустой строки.

Длина каждой строки комментария не должна превышать 100 символов.

Заголовок комментария пишется в специальном формате, содержащем:

- **тип** (обязательно)
- **контекст** (опционально)
- **краткое описание** (обязательно)

Тело комментария используется для расширенного описания изменений и дополнительных объяснений, если они требуются.

Шаблон комментария:

```
<тип>([контекст]): <краткое описание>
[пустая строка]
[тело]
[пустая строка]
[сноска]
```

## Тип

Должен быть одним из следующих:

- **feat**: Добавление новой функции.
- **fix**: Исправление бага.
- **docs**: Изменение в документации.
- **style**: Изменения, которые не затрагивают логику кода (пробелы, форматирование, пропущенные точки с запятой и т.д.)
- **refactor**: Изменение кода, которое не добавляет новую функцию и не является исправлением бага.
- **perf**: Изменение кода, улучшающее производительность.
- **test**: Добавление недостающих тестов или исправление существующих тестов.
- **build**: Изменения, которые влияют на систему сборки или внешние зависимости (пример контекста: webpack, babel, npm).
- **ci**: Изменения в конфигурационных файлах и скриптах CI.
- **chore**: Другие изменения, которые не изменяют исходный код или тесты.

## Контекст

Ниже приведен список поддерживаемых контекстов:

- assets
- dependencies
- internals
- localization
- main
- renderer
- shared

## Краткое описание

Краткое описание содержит лаконичное описание изменений:

- используйте повелительное наклонение, настоящее время: "change", а не "changed" или "changing";
- не пишите первую букву с заглавной буквы;
- не ставьте точку (.) в конце;
- артикли могут быть пропущены, если это не изменяет смысл предложения.

## Тело

Как и в **кратком описании**, используйте повелительное наклонение в настоящем времени: "change", а не "changed" или "changing".
В основной части следует указать причины изменений и сравнить их с предыдущим поведением.

## Сноска

В сноску помещается информация о **breaking changes** и ссылка
[для автоматического закрытия связанной задачи в GitLab трекере](https://docs.gitlab.com/ee/user/project/issues/managing_issues.html#closing-issues-automatically),
если таковая имеется.

Если в коммите содержатся **breaking changes**, то сноска должна начинаться с `BREAKING CHANGE:`
с пробелом или двумя новыми линиями, за которыми следует описание breaking changes.

`BREAKING CHANGE` может быть частью коммита любого типа.

## Отмена коммитов

Если коммит отменяет какой-то из предыдущих коммитов, он должен начинаться с `revert:`, за которым следует заголовок
отменяемого коммита. В теле должно быть написано: `This reverts commit <hash>.`, где hash - это SHA отменяемого коммита.

## Примеры

```
feat(localization): add english translation
```

```
refactor(renderer): adjust button spacing
```

```
fix(main): correct minor typos in code
```

```
docs: correct spelling of CHANGELOG
```

```
fix(main): need to depend on latest rxjs and zone.js

The version in our package.json gets copied to the one we publish, and users need the latest of these.
```

## Полная спецификация соглашения "Conventional Commits"

- Коммиты должны (MUST) начинаться с типа, который является существительным: `feat`, `fix` и т. д. За ним следует необязательный
  (OPTIONAL) контекст, необязательный (OPTIONAL) восклицательный знак (`!`) и обязательные (REQUIRED) двоеточие (`:`) и пробел (` `).

- Тип `feat` должен (MUST) использоваться, когда коммит добавляет новый функционал в ваше приложение или вашу библиотеку.

- Тип `fix` должен (MUST) использоваться, когда коммит исправляет баг в вашем приложении или вашей библиотеке.

- Контекст может (MAY) следовать после типа. Контекст должен (MUST) быть существительным, заключённым в круглые скобки,
  описывающий часть кодовой базы, которую затронул коммит. Например, `fix(renderer)`.

- Описание должно (MUST) следовать сразу за двоеточием (`:`) и пробелом (` `) после типа или контекста. Описание представляет
  собой краткое изложение изменений кода. Например, `fix: array parsing issue when multiple spaces were contained in string`.

- Тело коммита может (MAY) следовать после короткого описания, добавляя дополнительную контекстную информацию об изменениях
  в коде. Тело должно (MUST) отделяться от описания одной пустой строкой.

- Тело коммита имеет произвольную форму и может (MAY) состоять из любого количества абзацев, разделённых новой строкой.

- В одной или нескольких сносках может (MAY) быть одна пустая строка после тела. Каждая сноска должна (MUST) состоять из
  токена слова, за которым следует разделитель `:<пробел>` или `<пробел>#`, за которым следует строковое значение
  (основано на git trailer format).

- Токен сноски должен (MUST) использовать `-` вместо пробельных символов. Например, Asked-by (это помогает отличить раздел
  сноски от его тела, состоящего из нескольких абзацев). Исключение составляет BREAKING CHANGE,
  которое может (MAY) также использоваться как токен.

- Сноска может (MAY) содержать пробелы и символы новой строки, а парсинг должен (MUST) завершаться при обнаружении следующей
  допустимой пары токен-разделитель сноски.

- Критические изменения должны (MUST) быть указаны в типе, контексте или сноске коммита.

- Если `BREAKING CHANGE` включено в сноску, то оно должно (MUST) состоять из прописного текста `BREAKING CHANGE`, за которым
  следует двоеточие (`:`), пробел (` `) и описание.
  Например, `BREAKING CHANGE: environment variables now take precedence over config files`.

- Если критические изменения находятся в типе или контексте, то они должны (MUST) быть обозначены восклицательным знаком (`!`),
  непосредственно перед двоеточием (`:`). Если используется восклицательный знак (`!`), то `BREAKING CHANGE` может (MAY)
  быть опущен в сноске, а описание коммита должно (SHALL) использоваться для описания критического изменения.

- В ваших сообщениях коммитов могут (MAY) использоваться типы, отличные от `feat` и `fix`. Например, `docs: updated ref docs`.

- Единицы информации, которые составляют «Соглашение о коммитах», не должны (MUST NOT) обрабатываться разработчиками как
  чувствительные к регистру, за исключением `BREAKING CHANGE`, которое должно (MUST) быть прописными.

- `BREAKING-CHANGE` должен (MUST) быть синонимом `BREAKING CHANGE` при использовании в качестве токена в сноске.
